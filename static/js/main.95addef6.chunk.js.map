{"version":3,"sources":["data/posts.js","redux/reducer.js","Components/Photo.js","Components/PhotoWall.js","Components/AddPhoto.js","Components/Comments.js","Components/Single.js","Components/Main.js","database/config.js","redux/actions.js","Components/App.js","index.js"],"names":["posts","rootReducer","combineReducers","state","_posts","action","type","slice","index","post","comments","postId","comment","Photo","props","className","to","id","src","imageLink","alt","description","onClick","startRemovingPost","history","push","length","PhotoWall","sort","x","y","map","key","AddPhoto","handleSubmit","bind","event","preventDefault","target","elements","link","value","Number","Date","this","startAddingPost","onHistory","onSubmit","placeholder","name","Component","Comments","startAddingComment","hidden","Single","match","params","find","findIndex","loading","Main","startLoadingPost","then","setState","startLoadingComments","exact","path","render","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","database","dispatch","ref","update","addPost","catch","error","console","log","once","snapshot","forEach","childSnapshot","val","loadPosts","remove","removePost","addComment","Object","values","loadComments","App","withRouter","connect","bindActionCreators","actions","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.95addef6.chunk.js","sourcesContent":["\nconst posts = []\n\n  export default posts","import _posts from '../data/posts'\nimport {combineReducers} from 'redux'\n\nfunction comments(state={}, action) {\n    switch (action.type) {\n        case 'ADD_COMMENT':  \n        \n        if (!state[action.postId]) {\n            return {...state, [action.postId]: [action.comment]}\n        } else {\n            return {...state, [action.postId]: [...state[action.postId], action.comment] }\n        }\n\n        case 'LOAD_COMMENTS': return action.comments\n        \n        default: return state\n    }\n    return state\n}\n\n\nfunction posts(state = _posts, action) {\n    switch (action.type) {\n        case 'REMOVE_POST': return [...state.slice(0, action.index), ...state.slice(action.index + 1)]\n        case 'ADD_POST': return [...state, action.post]\n        case 'LOAD_POSTS': return action.posts\n        default: return state\n\n    }\n\n    \n}\n\nconst rootReducer = combineReducers({posts, comments})\n\nexport default rootReducer","import React from 'react';\nimport PropTypes from 'prop-types'\nimport {Link} from 'react-router-dom'\nfunction Photo(props) {\n    const post = props.post\n    return <figure className=\"figure\"> \n                <Link to={`/single/${post.id}`}> <img className= \"photo\" src={post.imageLink} alt={post.description}/></Link>\n                <figcaption> <p> {post.description} </p> </figcaption>\n                <div className = \"button-container\">\n                <button onClick = {() => {\n                    props.startRemovingPost(props.index, post.id)\n                    props.history.push('/')\n                }}> Remove </button>\n                <Link className=\"button\" to={`/single/${post.id}`}> \n                    <div className=\"comment-count\"> \n                        <div className=\"speech-bubble\"> </div>\n                        {props.comments[post.id] ? props.comments[post.id].length : 0 }\n                    </div>\n                </Link>\n                </div>\n         </figure>\n}\n\n\nPhoto.propTypes = {\n    post: PropTypes.object.isRequired,\n}\n\n\nexport default Photo\n","import React from 'react'\nimport Photo from './Photo'\nimport PropTypes from 'prop-types'\nimport {Link} from 'react-router-dom'\n//anchor tag, href attribute\nfunction PhotoWall(props) {\nreturn  <div> \n             <Link className = \"addIcon\" to=\"/AddPhoto\"> </Link> \n             <div className=\"photoGrid\" >\n                  {props.posts\n                    .sort(function(x,y) {\n                        return  y.id - x.id\n                    })\n                    .map((post, index) => <Photo key={index} post={post} {...props} index={index}/>)}\n             </div>\n        </div>\n}\n\nPhotoWall.propTypes = {\n    posts: PropTypes.array.isRequired,\n}\n\n\n export default PhotoWall","import React, {Component} from 'react'\n\nclass AddPhoto extends Component {\n\n    constructor() {\n        super()\n        this.handleSubmit = this.handleSubmit.bind(this)\n    }\n    handleSubmit(event) {\n        event.preventDefault();\n        const imageLink = event.target.elements.link.value\n        const description = event.target.elements.description.value\n        const post = {\n            id: Number(new Date()),\n            description: description,\n            imageLink: imageLink\n        }\n        if (description && imageLink){\n            this.props.startAddingPost(post)\n            this.props.onHistory.push('/')\n        }\n\n    }\n\n    render() {\n        return (\n    <div>\n        <div className=\"form\">\n          <form onSubmit={this.handleSubmit}> \n               <input type =\"text\" placeholder=\"Link\" name=\"link\"/>\n               <input type =\"text\" placeholder=\"Desciption\" name=\"description\"/>\n               <button> Post </button>\n          </form>\n        </div>\n    </div>\n    )\n    }\n}\n\n\n\nexport default AddPhoto","import React, {Component} from 'react'\n\n\nclass Comments extends Component {\n\n    constructor() {\n        super()\n        this.handleSubmit = this.handleSubmit.bind(this)\n    }\n    handleSubmit(event) {\n        event.preventDefault()\n        const comment = event.target.elements.comment.value\n        this.props.startAddingComment(comment, this.props.id)\n        event.target.elements.comment.value = ''\n    }\n\n    render() {\n       return <div className=\"comment\">\n       {\n           this.props.comments.map((comment, index) => {\n               return (\n                   <p key={index}> {comment} </p>\n               )\n           })\n\n       }\n            <form className=\"comment-form\" onSubmit={this.handleSubmit}> \n                <input type=\"text\" placeholder=\"comment\" name=\"comment\"/>\n                <input type=\"submit\" hidden/>\n            </form>\n            \n            \n         </div>\n    }\n}\n\nexport default Comments","import React, {Component} from 'react'\nimport Photo from './Photo'\nimport Comments from './Comments'\n\nclass Single extends Component {\n    render() {\n        const {match, posts} = this.props\n        const id = Number(match.params.id)\n        const post = posts.find((post) => post.id === id)\n        const comments = this.props.comments[match.params.id] || []\n        const index = this.props.posts.findIndex((post) => post.id === id)\n        if (this.props.loading === true) {\n            return <div className=\"loader\"> ...loading </div>\n        } else if (post) { \n\n            return <div className='single-photo'>\n                 <Photo post={post} {...this.props} index={index}/>\n                 <Comments startAddingComment={this.props.startAddingComment} comments={comments} id = {id}/>\n                 </div> \n        } else {\n            return <h1> ...no post found </h1>\n        }\n          \n    } \n}\n\nexport default Single","import React, {Component} from 'react'\nimport PhotoWall from './PhotoWall'\nimport AddPhoto from './AddPhoto'\nimport {Route, Link} from 'react-router-dom'\nimport Single from './Single'\n\nclass Main extends Component {\n \n    state = { loading: true }\n\n    componentDidMount() {\n        this.props.startLoadingPost().then(() => {\n            this.setState({loading: false})\n        })\n        this.props.startLoadingComments()\n    }\n\n    render() {\n        return ( \n        \n        <div>\n            <h1> \n                <Link to=\"/\"> Photowall </Link>    \n             </h1>\n\n            <Route exact path = \"/\" render={() => (\n                 <div>\n                      <PhotoWall {...this.props} />   \n                 </div>\n\n            )}/> \n\n            <Route path= \"/AddPhoto\" render = {({history}) => (\n                <AddPhoto {...this.props} onHistory={history}/>\n            )}/>\n\n            <Route exact path=\"/single/:id\" render = {(params) => (\n                <Single  loading={this.state.loading} {...this.props} {...params}/> \n            )}/>\n            \n\n         </div>\n        )\n    }\n\n}\n\n\nexport default Main","import * as firebase from 'firebase';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyAT5e2qiHn3biaWVGZBy_P_WhHOSiSV708',\n  authDomain: 'photowall-f5212.firebaseapp.com',\n  databaseURL: 'https://photowall-f5212.firebaseio.com',\n  projectId: 'photowall-f5212',\n  storageBucket: 'photowall-f5212.appspot.com',\n  messagingSenderId: '1047611082951',\n  appId: '1:1047611082951:web:836cbd1f0299b5788396e2',\n  measurementId: 'G-YM9HW72NNM'\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nconst database = firebase.database();\n\nexport { database };\n","import {database} from '../database/config'\nexport function startAddingPost(post) {\n    return (dispatch) => {\n        return database.ref('posts').update({[post.id]: post}).then(() => {\n            dispatch(addPost(post))\n        }).catch((error) => {\n            console.log(error)\n        })\n    }\n} \n\nexport function startLoadingPost() {\n    return (dispatch) => {\n        return database.ref('posts').once('value').then((snapshot) => {\n           let posts = []\n           snapshot.forEach((childSnapshot) => {\n            posts.push(childSnapshot.val())\n           })\n           dispatch(loadPosts(posts))\n        }).catch((error) => {\n            console.log(error)\n        })\n    }\n}\n\nexport function startRemovingPost(index, id) {\n    return (dispatch) => {\n        return database.ref(`posts/${id}`).remove().then(() => {\n            dispatch(removePost(index))\n        }).catch((error) => {\n            console.log(error)\n        })\n    }\n}\n\nexport function startAddingComment(comment, postId) {\n    return (dispatch) => {\n        return database.ref('comments/'+postId).push(comment).then(() => {\n            dispatch(addComment(comment, postId))\n        }).catch((error) => {\n            console.log(error)\n        })\n    }\n}\n\nexport function startLoadingComments() {\n    return (dispatch) => {\n        return database.ref('comments').once('value').then((snapshot) => {\n            let comments = {}\n            snapshot.forEach((childSnapshot) => {\n                comments[childSnapshot.key] = Object.values(childSnapshot.val())\n            })\n            dispatch(loadComments(comments))\n        })\n    }\n}\n\nexport function loadComments(comments) {\n    return {\n        type: 'LOAD_COMMENTS',\n        comments\n    }\n}\n\n\nexport function removePost(index) {\n    return {\n        type: 'REMOVE_POST',\n        index\n    }\n}\n\nexport function addPost(post) {\n    return {\n        type: 'ADD_POST',\n        post\n    }\n}\n\nexport function addComment(comment, postId) {\n    return {\n        type: 'ADD_COMMENT',\n        comment,\n        postId\n    }\n}\n\nexport function loadPosts(posts) {\n    return {\n        type: 'LOAD_POSTS',\n        posts\n    }\n\n}\n\n\n\n\n//adding post","\nimport Main from './Main'\nimport {connect} from 'react-redux'\nimport {bindActionCreators} from 'redux'\nimport * as actions from '../redux/actions'\nimport {withRouter} from 'react-router'\nfunction mapStateToProps(state) {\n    return {\n        posts: state.posts,\n        comments: state.comments\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return bindActionCreators(actions, dispatch)\n\n}\n\nconst App = withRouter(connect(mapStateToProps, mapDispatchToProps)(Main))\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/stylesheet.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport { createStore, applyMiddleware } from 'redux';\nimport rootReducer from './redux/reducer';\nimport { Provider } from 'react-redux';\nimport App from './Components/App';\nimport thunk from 'redux-thunk';\n\nconst store = createStore(\n  rootReducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n  applyMiddleware(thunk)\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}